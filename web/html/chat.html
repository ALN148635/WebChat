<!DOCTYPE html>
<html style="height: 100%;">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/content.css">
    <!--<link rel="stylesheet" href="../css/boilerplate.css">-->
    <script src="../js/jquery-3.1.0.js"></script>
    <script src="../bootstrap/js/bootstrap.min.js"></script>
    <script src="../js/jquery.backstretch.js"></script>
    <script src="../js/jquery.cookie.js"></script>
    <script src="../js/chat.js"></script>
    <script src="../js/ChatContent.js"></script>
    <script src="../js/msghistory.js"></script>
</head>
<body style="height: 100%; background:-webkit-gradient(linear, 0% 0%, 0% 100%,from(#b8c4cb), to(#d9d9db));">
<div class="container" style="height: 100%;">
    <div style="margin-top:5%;height: 85%; background: transparent; margin-bottom: 0;">
        <div class="row" style="height: 100%;">
            <!-- left begin -->
            <div class="col-xs-4"
                 style="height: 100%; background: #333333; border-radius: 5px 0 0 5px; color: #ffffff;">
                <div class="row" style="padding-top: 20px; padding-bottom: 20px">
                    <div id="photo" class="col-xs-4">
                        <img src="../img/photo1.jpg" class="img-circle" style="height: 70px; width: 70px">
                    </div>
                    <div id="nicknameOnTop" class="col-xs-4">
                        <p style="padding-top: 20px; margin-left: -20px;">DYW</p>
                    </div>
                    <div id="search" class="col-xs-2" data-toggle="modal" data-target="#searchUser">
                        <span class="glyphicon glyphicon-search"
                              style="padding-top: 20px; padding-bottom: 20px; margin-left: 10px; font-size: x-large;"></span>
                    </div>
                    <div class="dropdown">
                        <div class="col-xs-2 dropdown-toggle" id="settings_btn" data-toggle="dropdown">
                            <span class="glyphicon glyphicon-th"
                                  style="padding-top: 20px; padding-bottom: 20px; font-size: x-large;"></span>
                        </div>
                        <ul class="dropdown-menu pull-right" role="menu" aria-labelledby="settings_btn">
                            <li role="presentation" onclick="loadInfo()">
                                <a role="menuitem" tabindex="-1" href="#">个人信息</a>
                            </li>
                            <li role="presentation" onclick="loadChangePwd()">
                                <a role="menuitem" tabindex="-1" href="#">账户安全</a>
                            </li>
                            <li role="presentation" onclick="loadGroup()">
                                <a role="menuitem" tabindex="-1" href="#">分组设置</a>
                            </li>
                            <li role="presentation" class="divider"></li>
                            <li role="presentation">
                                <a role="menuitem" tabindex="-1" href="login.html">退出</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="row" style="text-align: center; font-size: x-large;">
                    <div id="messageIcon" class="col-xs-4" onclick="loadRecentMessageList()">
                        <span class="glyphicon glyphicon-comment"></span>
                    </div>
                    <div id="contactIcon" class="col-xs-4"
                         style="border-left: 1px solid #555555; border-right: 1px solid #555555;"
                         onclick="loadFriendList()">
                        <span class="glyphicon glyphicon-user"></span>
                    </div>
                    <div id="appliesIcon" class="col-xs-4" onclick="loadApplyList()">
                        <span class="glyphicon glyphicon-bell"></span>
                    </div>
                </div>
                <div id="messages" class="row" style="overflow-y: scroll; margin-right: -32px">
                    <ul id="messageList" class="list-group"></ul>
                </div>
            </div>
            <!-- left end -->
            <div class="col-xs-8" style="height: 100%; background: #eeeeee; border-radius: 0 5px 5px 0;">
                <table style="height: 100%; width: 100%;">
                    <tbody>
                    <tr style="height: 8%; border-bottom: 1px solid #cccccc;">
                        <td class="text-center">
                            <div id="div_userinfo" class="col-xs-11">
                                <label id="nouser" title="XXX" data-html="true"
                                       style="padding-top: 4%; font-size: larger; font-weight: normal;"
                                       data-container="body" data-toggle="popover" data-placement="bottom"
                                       data-content="账号：123<br>昵称：XXX<br>性别：男<br>生日：2000/01/01">
                                    XXX
                                </label>
                            </div>
                            <div class="dropdown pull-right">
                                <div class="dropdown-toggle" id="friend_btn" data-toggle="dropdown">
                                    <span class="glyphicon glyphicon-chevron-down"
                                          style="padding-top: 30px; margin-right: 20px; font-size: small;"></span>
                                </div>
                                <ul class="dropdown-menu pull-right" role="menu" aria-labelledby="friend_btn">
                                    <li role="presentation" data-toggle="modal" data-target="#groupSetting">
                                        <a role="menuitem" tabindex="-1" href="#">调整分组</a>
                                    </li>
                                    <li role="presentation" onclick="askMsgHistroy()">
                                        <a role="menuitem" tabindex="-1" href="#">聊天记录</a>
                                    </li>
                                    <li role="presentation" class="divider"></li>
                                    <li role="presentation" class="btn-danger" data-toggle="modal"
                                        data-target="#noticeDeleteFriend">
                                        <a role="menuitem" tabindex="-1" href="#">删除好友</a>
                                    </li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                    <tr style="height: 60%; border-bottom: 1px solid #cccccc;">
                        <td>
                            <div id="ChatBox" class="ChatBox clearfix">
                                <div id="ChatContentBox"></div><!--在此插入聊天内容-->
                            </div>
                        </td>
                    </tr>
                    <tr style="height: 25%;">
                        <td>
                            <textarea id="message" title="message"
                                      style="height: 80%; width: 100%; background: transparent; border: none; resize: none;"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button id="sendmsg" class="btn btn-primary pull-right">发送</button>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <div id="chatMask"
                     style="position: absolute; left: 0; top: 0; height: 100%; width: 100%; background: #eeeeee; border-radius: 0 5px 5px 0;">
                    <p style="padding-top: 300px; text-align: center; color: #cccccc; font-size: xx-large; font-weight: lighter;">
                        Welcome</p>
                </div>
            </div>
        </div>
    </div>
    <div id="searchUser" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="search user"
         aria-hidden="true">
        <div class="modal-dialog" style="margin-top: 200px">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <div class="input-group">
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-default">搜索</button>
                            <button id="searchOption" value="findaccountid" onclick="changeSearchOption()" type="button"
                                    class="btn btn-default">账号▼
                            </button>
                        </div>
                        <input id="searchContent" type="text" class="form-control" placeholder="请输入账号"
                               onchange="searchUsers()">
                    </div>
                </div>
                <div class="modal-body">
                    <ul id="searchList" class="list-group">

                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
    <div id="notice" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="search user"
         aria-hidden="true">
        <div class="modal-dialog" style="margin-top: 200px">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                </div>
                <div class="modal-body" align="center"></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
    <div id="groupSetting" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="set group"
         aria-hidden="true">
        <div class="modal-dialog" style="margin-top: 200px">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                </div>
                <div class="modal-body" align="center">
                    <ul id="groupList" class="list-group"></ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
    <div id="noticeDeleteFriend" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="search user"
         aria-hidden="true">
        <div class="modal-dialog" style="margin-top: 200px">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                </div>
                <div class="modal-body" align="center">
                    确定删除好友？
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal" onclick="deleteFriend()">删除
                    </button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
    <!--历史纪录模态框-->
    <div class="modal fade" id="ChatHistoryModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true" style="top: 100px">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">聊天历史纪录</h4>
                </div>
                <div class="modal-body" id="info">
                    <div class="container">
                        <div id="msgHistory" style="">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="deleteMsg()">删除</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>
    <!-- 修改个人资料模态框-->
    <div class="modal fade" id="ChangeInfoModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true" style="top: 100px">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="" align="center">修改个人信息</h4>
                </div>
                <div class="modal-body">
                    <div align="center">
                        <table style="border-collapse: separate;border-spacing: 10px">
                            <tr>
                                <td><label class="tableText"><b>昵称</b></label></td>
                                <td style=" margin-left: 10px;">
                                    <input id="nickname" type="text" class="form-control tableInput"/>
                                </td>
                            </tr>
                            <tr>
                                <td><label class="tableText"><b>性别</b></label></td>
                                <td>
                                    <select id="gender" name="gender" class="form-control tableInput">
                                        <option value="男">男</option>
                                        <option value="女">女</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td><label class="tableText"><b>生日</b></label></td>
                                <td style=" margin-left: 10px;">
                                    <input type="date" id="birthday" class="form-control tableInput"/>
                                </td>
                            </tr>
                            </trmargin-left>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="changeInfo()">修改</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <!--<button type="button" class="btn btn-primary">提交更改</button>-->
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>
    <!--修改登陆密码模态框-->
    <div class="modal fade" id="ChangePwdModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true" style="top: 100px">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" align="center">修改账号密码</h4>
                </div>
                <div class="modal-body">
                    <div align="center">
                        <table style="border-collapse: separate;border-spacing: 10px">
                            <tr>
                                <td><label class="tableText"><b>原密码</b></label></td>
                                <td style=" margin-left: 10px;">
                                    <input id="oldPwd" type="password" class="form-control tableInput"/>
                                </td>
                            </tr>
                            <tr>
                                <td><label class="tableText"><b>新密码</b></label></td>
                                <td style=" margin-left: 10px;">
                                    <input id="newPwd" type="password" class="form-control tableInput"/>
                                </td>
                            </tr>
                            <tr>
                                <td><label class="tableText"><b>确认新密码</b></label></td>
                                <td style=" margin-left: 10px;">
                                    <input id="chkNewPwd" type="password" class="form-control tableInput"/>
                                </td>
                            </tr>
                        </table>
                        <div class="alert alert-danger" id="changePwdInfo" hidden="hidden" style="width: 55%"></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="changePwd()">修改</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <!--<button type="button" class="btn btn-primary">提交更改</button>-->
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>
    <!--分组设置模态框-->
    <div class="modal fade" id="ChangeGroupdModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="top: 100px;">
        <div class="modal-dialog" style="width:500px">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title"  align="center">分组设置</h4>
                </div>
                <div class="modal-body" >
                    <div  align="center" >
                        <ul id="editGroupList" class="list-group">
                        </ul>
                    </div>
                </div>
                <div class="modal-footer">

                    <!--<button type="button" class="btn btn-primary" onclick="changePwd()">修改</button>-->
                    <!--<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>-->
                    <!--<button type="button" class="btn btn-primary">提交更改</button>-->
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>
    <!--提示框-->
    <div class="modal fade" id="groupInfoModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="top: 350px">
        <div class="modal-dialog" style="height: 50px;">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" >提示信息</h4>
                </div>
                <div class="modal-body" id="groupAlertInfo" ></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <!--<button type="button" class="btn btn-primary">提交更改</button>-->
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>
</div>
</body>
</html>